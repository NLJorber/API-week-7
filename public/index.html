<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Medication Manager</title>
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&family=Rubik:wght@400;500;700&family=Inter:wght@300;400;600&display=swap" rel="stylesheet">
  <script src="https://cdn.tailwindcss.com"></script>
  <script>
    tailwind.config = {
      theme: {
        extend: {
          colors: {
            brand: {
              400: '#06b6d4',
              500: '#0ea5e9',
              600: '#0284c7'
            },
            accent: {
              400: '#f472b6',
              500: '#fb7185'
            }
          },
          fontFamily: {
            display: ['Poppins', 'Inter', 'sans-serif'],
            sans: ['Rubik', 'Inter', 'sans-serif']
          }
        }
      }
    }
  </script>
  <style>
    /* Styles for displayed medication cards inside #meds-list */
    #meds-list > * {
      background: #ffffff;
      color: #1f2937; /* slate-800 */
      padding: 0.75rem;
      border-radius: 0.5rem;
      box-shadow: 0 6px 18px rgba(91,33,182,0.06);
      border: 1px solid rgba(15,23,42,0.04);
    }
    /* also support a common class that app.js might use */
    .med-card { background: #ffffff; color: #1f2937; padding:0.75rem; border-radius:0.5rem; }
  </style>
</head>
<body class="min-h-screen bg-gradient-to-b from-slate-900 via-slate-950 to-slate-900 text-slate-100 px-6 py-6 font-sans">
  <header class="mb-6">
    <div class="mx-auto max-w-3xl">
      <div class="bg-purple-700/70 w-full rounded-xl px-6 py-4 text-center">
        <h1 class="text-3xl font-extrabold font-display text-white">Medication Manager</h1>
        <h3 class="text-sm text-white/90 mt-1">Test the API with a tiny UI.</h3>
      </div>
    </div>
  </header>

    <main class="max-w-7xl mx-auto w-full">

    <section class="mb-4 rounded-xl  bg-purple-700/70 p-4 shadow-lg">
      <div class="flex items-center justify-between">
        <h2 class="text-lg font-semibold text-white">Medications</h2>
        <button type="button" class="rounded-lg border border-white px-3 py-1.5 text-sm text-slate-200 hover:border-accent-400" id="load-meds">Load Meds</button>
      </div>
      <div id="meds-list" class="mt-3 grid gap-2 sm:grid-cols-2 lg:grid-cols-3"></div>
    </section>

    <div class="grid gap-4 md:grid-cols-2 xl:grid-cols-3">
    <section class="rounded-xl  bg-purple-700/70 p-4 shadow-xl shadow-black/40 xl:col-span-2">
      <h2 class="text-lg font-semibold mb-2">Input and Update Medications</h2>
      <form id="med-form" class="space-y-3">
        <label class="text-sm text-white/80 space-y-1">
          <span>Med ID (leave blank to create)</span>
            <input id="med-id" type="text" placeholder="Existing ID to update" class="w-full rounded-lg border border-slate-800 bg-white/6 text-slate-800 placeholder-slate-600 px-3 py-2 text-sm focus:border-brand-400 focus:ring-1 focus:ring-brand-400" />
        </label>
        <div class="grid md:grid-cols-2 gap-3">
          <label class="text-sm text-white/80 space-y-1">
            <span>Name</span>
            <input id="med-name" required class="w-full rounded-lg border border-slate-800 bg-white/6 text-white placeholder-white/70 px-3 py-2 text-sm focus:border-brand-400 focus:ring-1 focus:ring-brand-400" />
          </label>
          <label class="text-sm text-white/80 space-y-1">
            <span>Dosage</span>
            <input id="med-dosage" required class="w-full rounded-lg border border-slate-800 bg-white/6 text-white placeholder-white/70 px-3 py-2 text-sm focus:border-brand-400 focus:ring-1 focus:ring-brand-400" />
          </label>
        </div>
        <div class="grid md:grid-cols-2 gap-3">
          <label class="text-sm text-white/80 space-y-1">
            <span>Amount (number)</span>
            <input id="med-amount" type="number" step="0.01" class="w-full rounded-lg border border-slate-800 bg-white/6 text-white placeholder-white/70 px-3 py-2 text-sm focus:border-brand-400 focus:ring-1 focus:ring-brand-400" />
          </label>
          <label class="text-sm text-white/80 space-y-1">
            <span>Dosage Unit</span>
            <select id="med-dosage-unit" class="w-full rounded-lg border border-slate-800 bg-white/6 text-slate-600 px-3 py-2 text-sm focus:border-brand-400 focus:ring-1 focus:ring-brand-400">
              <option value="">Select unit</option>
              <option value="mg">mg</option>
              <option value="ml">ml</option>
              <option value="pill">pill</option>
            </select>
          </label>
        </div>
        <div class="grid md:grid-cols-2 gap-3">
          <label class="text-sm text-white/80 space-y-1">
            <span>Time To Take</span>
            <input id="med-time" placeholder="08:00 AM" required class="w-full rounded-lg border border-slate-800 bg-white/6 text-white placeholder-white/70 px-3 py-2 text-sm focus:border-brand-400 focus:ring-1 focus:ring-brand-400" />
          </label>
          <label class="text-sm text-white/80 space-y-1">
            <span>Frequency</span>
            <input id="med-frequency" placeholder="Daily" required class="w-full rounded-lg border border-slate-800 bg-white/6 text-white placeholder-white/70 px-3 py-2 text-sm focus:border-brand-400 focus:ring-1 focus:ring-brand-400" />
          </label>
        </div>
        <div class="grid md:grid-cols-2 gap-3">
          <label class="text-sm text-white/80 space-y-1">
            <span>Profile ID (optional)</span>
            <input id="med-profile" placeholder="Profile ObjectId" class="w-full rounded-lg border border-slate-800 bg-white/6 text-white placeholder-white/70 px-3 py-2 text-sm focus:border-brand-400 focus:ring-1 focus:ring-brand-400" />
          </label>
          <label class="text-sm text-white/80 space-y-1">
            <span>Notes</span>
            <input id="med-notes" placeholder="Optional notes" class="w-full rounded-lg border border-slate-800 bg-white/6 text-white placeholder-white/70 px-3 py-2 text-sm focus:border-brand-400 focus:ring-1 focus:ring-brand-400" />
          </label>
          <label class="text-sm text-white/80 space-y-1">
            <span>Inventory</span>
            <input id="med-inventory" type="number" value="0" class="w-full rounded-lg border border-slate-800 bg-white/6 text-white placeholder-white/70 px-3 py-2 text-sm focus:border-brand-400 focus:ring-1 focus:ring-brand-400" />
          </label>
        </div>
        <button type="submit" class="rounded-lg bg-gradient-to-r from-brand-400 to-brand-500 px-4 py-2 text-sm font-semibold text-white shadow hover:opacity-90">Save Med</button>
      </form>
    </section>

    <section class="rounded-xl border border-slate-800 bg-purple-700/70 p-4 shadow-xl shadow-black/40">
      <div class="flex items-center justify-between mb-2">
        <h2 class="text-lg font-semibold">Reminders</h2>
        <button type="button" id="refresh-reminders" class="rounded-lg border border-slate-800 px-3 py-1.5 text-sm text-slate-200 hover:border-brand-400">Refresh</button>
      </div>
      <form id="reminder-form" class="space-y-3">
        <div class="grid grid-cols-1 sm:grid-cols-2 gap-3">
          <label class="text-sm text-white/80 space-y-1">
            <span>Message</span>
            <input id="reminder-message" required class="w-full rounded-lg border border-slate-800 bg-white/6 text-white placeholder-white/70 px-3 py-2 text-sm focus:border-brand-400 focus:ring-1 focus:ring-brand-400" />
          </label>
          <label class="text-sm text-white/80 space-y-1">
            <span>Med ID (optional)</span>
            <input id="reminder-med" placeholder="Link to medication" class="w-full rounded-lg border border-slate-800 bg-white/6 text-white placeholder-white/70 px-3 py-2 text-sm focus:border-brand-400 focus:ring-1 focus:ring-brand-400" />
          </label>
        </div>
        <label class="text-sm text-white/80 space-y-1">
          <span>Due At</span>
          <input id="reminder-due" type="datetime-local" required class="w-full rounded-lg border border-slate-800 bg-white/6 text-white placeholder-white/70 px-3 py-2 text-sm focus:border-brand-400 focus:ring-1 focus:ring-brand-400" />
        </label>
        <button type="submit" class="rounded-lg bg-gradient-to-r from-brand-400 to-brand-500 px-4 py-2 text-sm font-semibold text-white shadow hover:opacity-90">Create Reminder</button>
      </form>
      <div id="reminders-list" class="mt-3 space-y-2"></div>
    </section>

    
  </div>



  <section class="mt-8 flex justify-center">
    <div class="rounded-xl border border-slate-800 bg-purple-700/70 p-4 shadow-xl shadow-black/40 mt-4 w-full max-w-4xl">
        <div>
          <h1 class="text-white text-lg font-semibold p-2">Weekly view</h1>

            <div class="flex flex-wrap justify-center mb-12 gap-2">
              <div class="flex group hover:bg-gradient-to-r from-cyan-300 to-sky-500 hover:shadow-lg rounded-lg mx-1 cursor-pointer justify-center w-20 md:w-24">
                <div class="text-center px-4 py-4">
                  <p class="text-white/80 group-hover:text-white text-sm transition-all group-hover:font-semibold duration-300">Sun</p>
                  <p class="text-white/80 group-hover:text-white mt-3 group-hover:font-bold transition-all duration-300">7</p>
                </div>
              </div>
              <div class="flex group hover:bg-gradient-to-r from-cyan-300 to-sky-500 hover:shadow-lg rounded-lg mx-1 cursor-pointer justify-center w-20 md:w-24">
                <div class="text-center px-4 py-4">
                  <p class="text-white/80 group-hover:text-white text-sm transition-all group-hover:font-semibold duration-300">Mon</p>
                  <p class="text-white/80 group-hover:text-white mt-3 group-hover:font-bold transition-all duration-300">8</p>
                </div>
              </div>
              <div class="flex group hover:bg-gradient-to-r from-cyan-300 to-sky-500 hover:shadow-lg rounded-lg mx-1 cursor-pointer justify-center w-20 md:w-24">
                <div class="text-center px-4 py-4">
                  <p class="text-white/80 group-hover:text-white text-sm transition-all group-hover:font-semibold duration-300">Tue</p>
                  <p class="text-white/80 group-hover:text-white mt-3 group-hover:font-bold transition-all duration-300">9</p>
                </div>
              </div>
              <div class="flex group hover:bg-gradient-to-r from-cyan-300 to-sky-500 hover:shadow-lg rounded-lg mx-1 cursor-pointer justify-center w-20 md:w-24">
                <div class="text-center px-4 py-4">
                  <p class="text-white/80 group-hover:text-white text-sm transition-all group-hover:font-semibold duration-300">Wed</p>
                  <p class="text-white/80 group-hover:text-white mt-3 group-hover:font-bold transition-all duration-300">10</p>
                </div>
              </div>
              <div class="flex group hover:bg-gradient-to-r from-cyan-300 to-sky-500 hover:shadow-lg rounded-lg mx-1 cursor-pointer justify-center w-20 md:w-24">
                <div class="text-center px-4 py-4">
                  <p class="text-white/80 group-hover:text-white text-sm transition-all group-hover:font-semibold duration-300">Thu</p>
                  <p class="text-white/80 group-hover:text-white mt-3 group-hover:font-bold transition-all duration-300">11</p>
                </div>
              </div>
              <div class="flex group hover:bg-gradient-to-r from-cyan-300 to-sky-500 hover:shadow-lg rounded-lg mx-1 cursor-pointer justify-center w-20 md:w-24">
                <div class="text-center px-4 py-4">
                  <p class="text-white/80 group-hover:text-white text-sm transition-all group-hover:font-semibold duration-300">Fri</p>
                  <p class="text-white/80 group-hover:text-white mt-3 group-hover:font-bold transition-all duration-300">12</p>
                </div>
              </div>
              <div class="flex group hover:bg-gradient-to-r from-cyan-300 to-sky-500 hover:shadow-lg rounded-lg mx-1 cursor-pointer justify-center w-20 md:w-24">
                <div class="text-center px-4 py-4">
                  <p class="text-white/80 group-hover:text-white text-sm transition-all group-hover:font-semibold duration-300">Sat</p>
                  <p class="text-white/80 group-hover:text-white mt-3 group-hover:font-bold transition-all duration-300">13</p>
                </div>
              </div>
            </div>

            <div class="flex justify-center">
              <div class="border border-slate-800 bg-purple-800/70 shadow-md rounded-lg py-6 px-4 w-full space-y-2">
                <h2 class="text-lg font-semibold text-white mb-4">Events</h2>
                    <ul class="flex flex-wrap gap-4 w-full">

                      <li class="bg-purple-800/70 rounded-md p-3 text-white/90 shadow-sm flex justify-between items-center w-full sm:w-[48%] lg:w-[30%] min-w-0 overflow-hidden">
                        <span>10:00 AM —</span>
                        <div class="flex flex-wrap items-center space-x-2 rounded-lg border border-slate-600 px-4 py-2 hover:border-cyan-400">

                          <input type="checkbox" class="accent-cyan-400">
                          <span class="text-sm text-slate-200">Taken</span>
                        </div>
                      </li>

                      <li class="bg-purple-800/70 rounded-md p-3 text-white/90 shadow-sm flex justify-between items-center w-full sm:w-[48%] lg:w-[30%] min-w-0">
                        <span>1:00 PM —</span>
                        <div class="flex flex-wrap items-center space-x-2 rounded-lg border border-slate-600 px-4 py-2 hover:border-cyan-400">
                          <input type="checkbox" class="accent-cyan-400">
                          <span class="text-sm text-slate-200">Taken</span>
                        </div>
                      </li>

                      <li class="bg-purple-800/70 rounded-md p-3 text-white/90 shadow-sm flex justify-between items-center w-full sm:w-[48%] lg:w-[30%] min-w-0">
                        <span>7:00 PM —</span>
                        <div class="flex flex-wrap items-center space-x-2 shrink rounded-lg border border-slate-600 px-4 py-2 hover:border-cyan-400">
                          <input type="checkbox" class="accent-cyan-400">
                          <span class="text-sm text-slate-200">Taken</span>
                        </div>
                      </li>
                    </ul>
              </div>
        </div>
      </div>
    </div>

  </section>
  

  <div id="messages" class="mt-3 space-y-2"></div>

  <script src="app.js"></script>

  <script>
    // Apply bg.jpg if present, otherwise leave the gradient background
    (function(){
      const img = new Image();
      img.src = 'bg.jpg';
      img.onload = function(){
        document.body.style.backgroundImage = "linear-gradient(rgba(3,7,18,0.16), rgba(3,7,18,0.16)), url('bg.jpg')";
        document.body.style.backgroundSize = 'cover';
        document.body.style.backgroundPosition = 'center';
        document.body.style.backgroundRepeat = 'no-repeat';
      };
      img.onerror = function(){
        // keep existing CSS gradient background
      };
    })();
  </script>

  <!-- <script type="module">

    import { initializeApp } from 'https://www.gstatic.com/firebasejs/12.6.0/firebase-app.js'
    import { getFirestore } from 'https://www.gstatic.com/firebasejs/12.6.0/firebase-firestore.js'
    const firebaseConfig = {
      apiKey: "AIzaSyCLwTnSjYrLVhHzGE8Sa7XwoZbGeCzcdTE",
  authDomain: "medapp-45d1b.firebaseapp.com",
  projectId: "medapp-45d1b",
  storageBucket: "medapp-45d1b.firebasestorage.app",
  messagingSenderId: "525567679658",
  appId: "1:525567679658:web:ffa934b21659123c9a04d3",
  measurementId: "G-FY5Q0W8GNB"
    };
    const app = initializeApp(firebaseConfig);
    const storage = getStorage(app);
  </script> -->
</body>
</html>
